import { motion } from 'framer-motion';
import { FC, useState } from 'react';
import styles from './FAQ.module.scss';

interface FAQItem {
  question: string;
  answer: string;
}

const faqData: FAQItem[] = [
  {
    question: 'Что такое румбокс и чем он отличается от обычного конструктора?',
    answer:
      'Румбокс — это миниатюрная композиция в виде комнаты или уголка, воссоздающая атмосферу из любимых книг. В отличие от обычных конструкторов, каждый румбокс — это авторская работа с детально проработанными элементами: текстиль, мебель, освещение, аксессуары. Это не просто игрушка, а настоящее произведение искусства для интерьера.',
  },
  {
    question: 'Сколько времени занимает сборка румбокса?',
    answer:
      'В среднем процесс сборки занимает от 8 до 15 часов. Это зависит от сложности модели и вашего опыта. Но не торопитесь! Главная прелесть — в самом процессе. Многие наши клиенты собирают румбокс несколько вечеров подряд, наслаждаясь медитативным погружением в любимую историю.',
  },
  {
    question: 'Подходит ли румбокс для детей?',
    answer:
      'Да! Сборка румбокса отлично развивает моторику, внимательность и воображение у детей от 8 лет. Рекомендуем собирать вместе с родителями — это прекрасная семейная активность. Для малышей младше 8 лет возможно участие под присмотром взрослых, так как в наборе есть мелкие детали.',
  },
  {
    question: 'Можно ли заказать румбокс по своей любимой книге?',
    answer:
      'Да! Мы принимаем индивидуальные заказы. Напишите нам название книги и желаемую сцену — наши мастера создадут уникальный дизайн специально для вас. Срок изготовления кастомного румбокса — от 3 до 6 недель. Стоимость обсуждается индивидуально в зависимости от сложности проекта.',
  },
  {
    question: 'Какие материалы используются в румбоксах?',
    answer:
      'Мы используем только качественные и безопасные материалы: натуральное дерево, текстиль (хлопок, лён, бархат), бумага, акриловые краски, LED-подсветка на батарейках. Все элементы экологичны и гипоаллергенны. Мебель и аксессуары создаются вручную с тщательной проработкой каждой детали.',
  },
  {
    question: 'Как происходит доставка и сколько это стоит?',
    answer:
      'Доставка по России — от 300 до 800 рублей в зависимости от региона. В Москве и Санкт-Петербурге доставка курьером в течение 1-3 дней. В другие города — транспортными компаниями (5-10 дней). Каждый румбокс упаковывается в подарочную коробку с защитой от повреждений. Международная доставка обсуждается отдельно.',
  },
  {
    question: 'Что делать, если в наборе не хватает детали или она повреждена?',
    answer:
      'Мы гарантируем качество и комплектность каждого набора. Если вы обнаружили брак или недостачу — свяжитесь с нами в течение 14 дней с момента получения. Мы бесплатно вышлем недостающие элементы или заменим поврежденный румбокс. Ваше удовольствие от сборки — наш главный приоритет!',
  },
  {
    question: 'Нужен ли опыт для сборки, или это сложно?',
    answer:
      'Никакого специального опыта не требуется! К каждому румбоксу прилагается подробная пошаговая инструкция с фотографиями и схемами. Детали уже вырезаны и подготовлены, вам нужно лишь следовать инструкции. Процесс интуитивно понятен даже новичкам. А если возникнут вопросы — мы всегда на связи и поможем советом!',
  },
];

export const FAQ: FC = () => {
  const [openIndex, setOpenIndex] = useState<number | null>(null);

  const toggleQuestion = (index: number) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  return (
    <section className={styles.faq}>
      <div className={styles.container}>
        <motion.div
          className={styles.header}
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.6 }}
        >
          <h1>
            Часто задаваемые <span className="gradient-text">вопросы</span>
          </h1>
          <p>Ответы на самые популярные вопросы о румбоксах</p>
        </motion.div>

        <div className={styles.list}>
          {faqData.map((item, index) => (
            <motion.div
              key={index}
              className={styles.item}
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: index * 0.1, duration: 0.5 }}
            >
              <button
                className={styles.question}
                onClick={() => toggleQuestion(index)}
                aria-expanded={openIndex === index}
              >
                <span className={styles.questionText}>{item.question}</span>
                <span
                  className={`${styles.icon} ${
                    openIndex === index ? styles.iconOpen : ''
                  }`}
                >
                  ▼
                </span>
              </button>

              <motion.div
                className={styles.answer}
                initial={false}
                animate={{
                  height: openIndex === index ? 'auto' : 0,
                  opacity: openIndex === index ? 1 : 0,
                }}
                transition={{ duration: 0.3 }}
              >
                <div className={styles.answerContent}>{item.answer}</div>
              </motion.div>
            </motion.div>
          ))}
        </div>

        <motion.div
          className={styles.cta}
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.8, duration: 0.6 }}
        >
          <h3>Не нашли ответ на свой вопрос?</h3>
          <p>Свяжитесь с нами — мы с радостью ответим!</p>
          <a href="/#contact" className={styles.ctaButton}>
            Написать нам
          </a>
        </motion.div>
      </div>
    </section>
  );
};



